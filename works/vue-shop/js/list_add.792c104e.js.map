{"version":3,"sources":["webpack:///./src/components/goods/Add.vue?fdf9","webpack:///./src/components/goods/Add.vue?c0dd","webpack:///src/components/goods/Add.vue","webpack:///./src/components/goods/Add.vue?c6eb","webpack:///./src/components/goods/Add.vue","webpack:///./src/components/goods/list.vue?9c73","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/components/goods/list.vue?790a","webpack:///src/components/goods/list.vue","webpack:///./src/components/goods/list.vue?b4f0","webpack:///./src/components/goods/list.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","active","ref","TabsFormRules","TabsForm","tabPosition","beforeTableLeave","on","getTabIndex","model","value","callback","$$v","expression","$set","staticClass","cateListtotal","cateprops","SelectedCateChanged","_l","item","key","attr_id","attr_name","val","i","uploadImgUrl","handlePreview","handleRemove","headerObj","handlSuccess","addGoodsSubmit","ImagedialogVisible","handleCloseImg","$event","previewUrl","staticRenderFns","goods_name","goods_price","goods_number","goods_weight","goods_cat","pics","goods_introduce","manyTableArr","onlyTableArr","expandTrigger","label","children","Authorization","component","$","$findIndex","findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","length","undefined","initGoodsData","query","slot","goAddpage","staticStyle","goodsData","scopedSlots","_u","fn","scope","_s","_f","row","add_time","editGood","goods_id","delGood","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","arrayMethodHasSpeciesSupport","wellKnownSymbol","SPECIES","nativeSlice","slice","max","Math","start","end","Constructor","result","n","O","k","fin","constructor","prototype","call"],"mappings":"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","file":"js/list_add.792c104e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=b1900a02&lang=less&scoped=scoped&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=b1900a02&lang=less&scoped=scoped&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{path:'/home'}}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"添加商品\")])],1),_c('el-card',[[_c('el-alert',{attrs:{\"title\":\"添加商品信息\",\"type\":\"info\",\"show-icon\":\"\",\"center\":\"\",\"closable\":false}}),_c('el-steps',{attrs:{\"active\":_vm.active - 0,\"finish-status\":\"success\",\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"基本信息\"}}),_c('el-step',{attrs:{\"title\":\"商品参数\"}}),_c('el-step',{attrs:{\"title\":\"商品属性\"}}),_c('el-step',{attrs:{\"title\":\"商品图片\"}}),_c('el-step',{attrs:{\"title\":\"商品内容\"}}),_c('el-step',{attrs:{\"title\":\"完成\"}})],1),_c('el-form',{ref:\"TabsFormRef\",attrs:{\"rules\":_vm.TabsFormRules,\"model\":_vm.TabsForm,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('el-tabs',{attrs:{\"tab-position\":_vm.tabPosition,\"before-leave\":_vm.beforeTableLeave},on:{\"tab-click\":_vm.getTabIndex},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"0\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.TabsForm.goods_name),callback:function ($$v) {_vm.$set(_vm.TabsForm, \"goods_name\", $$v)},expression:\"TabsForm.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.TabsForm.goods_price),callback:function ($$v) {_vm.$set(_vm.TabsForm, \"goods_price\", $$v)},expression:\"TabsForm.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.TabsForm.goods_weight),callback:function ($$v) {_vm.$set(_vm.TabsForm, \"goods_weight\", $$v)},expression:\"TabsForm.goods_weight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"goods_number\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.TabsForm.goods_number),callback:function ($$v) {_vm.$set(_vm.TabsForm, \"goods_number\", $$v)},expression:\"TabsForm.goods_number\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"prop\":\"goods_cat\"}},[_c('el-cascader',{staticClass:\"Topdis\",attrs:{\"options\":_vm.cateListtotal,\"props\":_vm.cateprops,\"clearable\":\"\"},on:{\"change\":_vm.SelectedCateChanged},model:{value:(_vm.TabsForm.goods_cat),callback:function ($$v) {_vm.$set(_vm.TabsForm, \"goods_cat\", $$v)},expression:\"TabsForm.goods_cat\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品参数\",\"name\":\"1\"}},_vm._l((_vm.manyTableArr),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[[_c('el-checkbox-group',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}},_vm._l((item.attr_vals),function(val,i){return _c('el-checkbox',{key:i,attrs:{\"label\":val,\"border\":\"\"}})}),1)]],2)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品属性\",\"name\":\"2\"}},_vm._l((_vm.onlyTableArr),function(item){return _c('el-form-item',{key:item.attr_id,attrs:{\"label\":item.attr_name}},[_c('el-input',{model:{value:(item.attr_vals),callback:function ($$v) {_vm.$set(item, \"attr_vals\", $$v)},expression:\"item.attr_vals\"}})],1)}),1),_c('el-tab-pane',{attrs:{\"label\":\"商品图片\",\"name\":\"3\"}},[_c('el-upload',{attrs:{\"action\":_vm.uploadImgUrl,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"list-type\":\"picture\",\"headers\":_vm.headerObj,\"on-success\":_vm.handlSuccess}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"商品内容\",\"name\":\"4\"}},[_c('quill-editor',{ref:\"myQuillEditor\",model:{value:(_vm.TabsForm.goods_introduce),callback:function ($$v) {_vm.$set(_vm.TabsForm, \"goods_introduce\", $$v)},expression:\"TabsForm.goods_introduce\"}}),_c('el-button',{staticClass:\"btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addGoodsSubmit}},[_vm._v(\"添加商品\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"预览图片\",\"visible\":_vm.ImagedialogVisible,\"width\":\"50%\",\"before-close\":_vm.handleCloseImg},on:{\"update:visible\":function($event){_vm.ImagedialogVisible=$event}}},[_c('img',{staticClass:\"imgClass\",attrs:{\"src\":_vm.previewUrl,\"alt\":\"\"}})])]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{path:'/home'}\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card>\r\n      <template>\r\n        <el-alert\r\n            title=\"添加商品信息\"\r\n            type=\"info\"\r\n            show-icon\r\n            center\r\n            :closable=\"false\">\r\n        </el-alert>\r\n        <el-steps :active=\"active - 0\" finish-status=\"success\" align-center>\r\n          <el-step title=\"基本信息\"></el-step>\r\n          <el-step title=\"商品参数\"></el-step>\r\n          <el-step title=\"商品属性\"></el-step>\r\n          <el-step title=\"商品图片\"></el-step>\r\n          <el-step title=\"商品内容\"></el-step>\r\n          <el-step title=\"完成\"></el-step>\r\n        </el-steps>\r\n        <!-- 竖行tab栏-->\r\n        <el-form :rules=\"TabsFormRules\" ref=\"TabsFormRef\" :model=\"TabsForm\" label-width=\"100px\" label-position=\"top\">\r\n        <el-tabs :tab-position=\"tabPosition\" v-model=\"active\" :before-leave=\"beforeTableLeave\" @tab-click=\"getTabIndex\">\r\n            <el-tab-pane label=\"基本信息\" name=\"0\">\r\n               <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n                  <el-input v-model=\"TabsForm.goods_name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n                   <el-input v-model=\"TabsForm.goods_price\" type=\"number\"></el-input>\r\n                 </el-form-item>\r\n                 <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n                    <el-input v-model=\"TabsForm.goods_weight\" type=\"number\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n                     <el-input v-model=\"TabsForm.goods_number\" type=\"number\"></el-input>\r\n                   </el-form-item>\r\n                   <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n                      <el-cascader\r\n                        class=\"Topdis\"\r\n                        v-model=\"TabsForm.goods_cat\"\r\n                        :options=\"cateListtotal\"\r\n                        :props=\"cateprops\"\r\n                        @change=\"SelectedCateChanged\"\r\n                        clearable\r\n                        ></el-cascader>\r\n                    </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"商品参数\" name=\"1\">\r\n              <el-form-item :label=\"item.attr_name\" v-for=\"item in manyTableArr\" :key=\"item.attr_id\">\r\n                <template>\r\n                  <el-checkbox-group v-model=\"item.attr_vals\">\r\n                    <el-checkbox :label=\"val\" v-for=\"(val,i) in item.attr_vals\" :key=\"i\" border></el-checkbox>\r\n                  </el-checkbox-group>\r\n                </template>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"商品属性\" name=\"2\">\r\n              <el-form-item :label=\"item.attr_name\" v-for=\"item in onlyTableArr\" :key=\"item.attr_id\">\r\n                <el-input v-model=\"item.attr_vals\"></el-input>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"商品图片\" name=\"3\">\r\n              <el-upload\r\n                :action=\"uploadImgUrl\"\r\n                :on-preview=\"handlePreview\"\r\n                :on-remove=\"handleRemove\"\r\n                list-type=\"picture\"\r\n                :headers=\"headerObj\"\r\n                :on-success=\"handlSuccess\">\r\n                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n\r\n              </el-upload>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"商品内容\" name=\"4\">\r\n              <!-- 富文本编辑器-->\r\n              <quill-editor v-model=\"TabsForm.goods_introduce\"\r\n                              ref=\"myQuillEditor\"\r\n                              >\r\n                </quill-editor>\r\n                <el-button type=\"primary\" class=\"btn-add\" @click=\"addGoodsSubmit\">添加商品</el-button>\r\n            </el-tab-pane>\r\n         </el-tabs>\r\n         </el-form>\r\n         <!-- 图片预览-->\r\n         <el-dialog\r\n           title=\"预览图片\"\r\n           :visible.sync=\"ImagedialogVisible\"\r\n           width=\"50%\"\r\n           :before-close=\"handleCloseImg\">\r\n           <img :src=\"previewUrl\" alt=\"\" class=\"imgClass\">\r\n         </el-dialog>\r\n      </template>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import _ from 'lodash'\r\n  export default{\r\n    data(){\r\n      return{\r\n      active:'0',//tab索引\r\n      tabPosition:'left',//label与input框的相对位置\r\n      cateListtotal:[],//商品分类列表\r\n      TabsForm:{\r\n        goods_name:'',\r\n        goods_price:0,\r\n        goods_number:0,\r\n        goods_weight:0,\r\n        goods_cat:[],\r\n        pics:[],\r\n        goods_introduce:'',\r\n        attrs:[]\r\n      },//添加商品的信息\r\n      TabsFormRules:{\r\n        goods_name:[{required:true,message:'请输入商品名称',trigger:'blur'}],\r\n        goods_price:[{required:true,message:'请输入商品价格',trigger:'blur'}],\r\n        goods_number:[{required:true,message:'请输入商品数量',trigger:'blur'}],\r\n        goods_weight:[{required:true,message:'请输入商品重量',trigger:'blur'}],\r\n        goods_cat:[{required:true,message:'请输选择商品分类',trigger:'blur'}],\r\n      },\r\n      manyTableArr:[],//动态参数列表数据\r\n      onlyTableArr:[],//静态参数列表数据\r\n      cateprops:{//渲染\r\n        expandTrigger:'hover',\r\n        label:'cat_name',\r\n        value:'cat_id',\r\n        children:'children'\r\n      },\r\n      previewUrl:'',//预览图片url\r\n      //设置图片上传请求url\r\n      uploadImgUrl:'http://127.0.0.1:8888/api/private/v1/upload',\r\n      //设置图片上传请求头\r\n      headerObj:{\r\n        Authorization:window.sessionStorage.getItem(\"token\")\r\n      },\r\n      ImagedialogVisible:false//图片预览弹窗控制\r\n      }\r\n    },\r\n    methods:{\r\n      async getCateList(){\r\n        const {data:res} = await this.$http.get('categories')\r\n        console.log(res)\r\n        if(res.meta.status == 200){\r\n          this.cateListtotal = res.data;\r\n        }\r\n        else{\r\n          this.$message.error(res.meta.status)\r\n        }\r\n      },\r\n      //监听商品分类选择\r\n      SelectedCateChanged(data){\r\n        if(data.length !== 3){\r\n          this.TabsForm.goods_cat = []\r\n          return\r\n        }\r\n      },\r\n      //Table标签到下一个Table标签的校验\r\n      beforeTableLeave(after,before){\r\n        console.log(before,after)\r\n        if(before==0&&this.TabsForm.goods_cat.length!==3){\r\n          this.$message.error(\"请先填写商品分类！\")\r\n          return false\r\n        }\r\n\r\n      },\r\n      //图片预览\r\n      handlePreview(file){\r\n        this.previewUrl=file.response.data.url\r\n        this.ImagedialogVisible  = true\r\n      },\r\n      handleCloseImg(){\r\n        this.ImagedialogVisible = false\r\n      },\r\n      //图片移除\r\n      handleRemove(file){\r\n        //删除图片名字\r\n        console.log(file)\r\n        const filePath = file.response.data.tmp_path;\r\n        //获取删除图片的索引值\r\n        const i = this.TabsForm.pics.findIndex(x=>{x.pic == filePath})\r\n        this.TabsForm.pics.slice(i,1)\r\n      },\r\n      //图片上传成功的返回值\r\n      handlSuccess(response){\r\n        console.log(response)\r\n        const picInfo = {pic:response.data.tmp_path}\r\n        this.TabsForm.pics.push(picInfo)\r\n      },\r\n      async getTabIndex(){\r\n        //console.log(this.active)\r\n        if(this.active == '1'){\r\n          const {data:res} = await this.$http.get(`categories/${this.cateId}/attributes`,{params:{ sel:'many' }})\r\n          console.log(res)\r\n          if(res.meta.status == 200){\r\n            res.data.forEach(item=>{\r\n              item.attr_vals = item.attr_vals.length==0?[]:item.attr_vals.split(\",\")\r\n            })\r\n            this.manyTableArr = res.data\r\n          }\r\n          else{\r\n            return this.$message.error(\"获取列表失败\")\r\n          }\r\n        }\r\n        else if(this.active == \"2\"){\r\n          const {data:res} = await this.$http.get(`categories/${this.cateId}/attributes`,{params:{ sel:'only' }})\r\n          if(res.meta.status == 200){\r\n            console.log(res)\r\n            /* res.data.forEach(item=>{\r\n              item.attr_vals = item.attr_vals.length==0?[]:item.attr_vals.split(\"\")\r\n            }) */\r\n            this.onlyTableArr = res.data\r\n          }\r\n          else{\r\n            this.$message.error(res.meta.msg)\r\n          }\r\n        }\r\n      },\r\n      //商品添加内容提交\r\n      addGoodsSubmit(){\r\n        this.$refs.TabsFormRef.validate(async valid=>{\r\n          if(!valid)return this.$message.error(\"请填写必填项！\")\r\n          const subForm = _.cloneDeep(this.TabsForm)//插件进行深拷贝文件，防止前面数据绑定的good_cat因为改成字符串而报错\r\n          subForm.goods_cat = subForm.goods_cat.join(',')\r\n          //处理动态属性参数\r\n          this.manyTableArr.forEach(item=>{\r\n            const newInfo = {attr_id:item.attr_id,attr_value:item.attr_vals.join(' ')}\r\n            this.TabsForm.attrs.push(newInfo)\r\n          })\r\n          //处理静态参数\r\n          this.manyTableArr.forEach(item=>{\r\n            const newInfo = {attr_id:item.attr_id,attr_value:item.attr_vals}\r\n            this.TabsForm.attrs.push(newInfo)\r\n          })\r\n          subForm.attrs = this.TabsForm.attrs\r\n          //console.log(subForm)\r\n          const {data:res} = await this.$http.post('goods',subForm)\r\n          if(res.meta.status == 201){\r\n            this.$message.success(res.meta.msg)\r\n          }\r\n          else{\r\n            return this.$message.error(res.meta.msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    created(){\r\n      this.getCateList()\r\n    },\r\n    computed:{\r\n      cateId(){\r\n        if(this.TabsForm.goods_cat.length==3){\r\n          return this.TabsForm.goods_cat[2]\r\n        }\r\n        else{\r\n          return null\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped=\"scoped\">\r\n  .el-checkbox{\r\n    margin:0 15px 5px 0!important\r\n  }\r\n  .imgClass{\r\n    width: 100%;\r\n  }\r\n  .btn-add{\r\n    margin-top: 15px;\r\n  }\r\n  .el-steps--horizontal{\r\n    margin-top: 15px;\r\n    margin-bottom: 5px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=b1900a02&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=b1900a02&lang=less&scoped=scoped&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1900a02\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=06235b39&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=06235b39&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{path:'/home'}}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',[[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入搜索内容\",\"clearable\":\"\"},on:{\"clear\":_vm.initGoodsData},model:{value:(_vm.query.query),callback:function ($$v) {_vm.$set(_vm.query, \"query\", $$v)},expression:\"query.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.initGoodsData},slot:\"append\"})],1)],1),_c('el-col',{staticClass:\"dis-left\",attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goAddpage}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.goodsData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_price\",\"width\":\"95px\",\"label\":\"商品价格(元)\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_weight\",\"width\":\"70px\",\"label\":\"商品重量\"}}),_c('el-table-column',{attrs:{\"width\":\"160px\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.add_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editGood(scope.row.goods_id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delGood(scope.row.goods_id)}}})]}}])})],1),_c('el-pagination',{staticClass:\"dis-page\",attrs:{\"current-page\":_vm.query.pagenum,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.query.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{path:'/home'}\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card>\r\n      <template>\r\n      <el-row>\r\n        <!-- 搜索框-->\r\n        <el-col :span=\"8\">\r\n           <el-input placeholder=\"请输入搜索内容\" v-model=\"query.query\" clearable @clear=\"initGoodsData\">\r\n              <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"initGoodsData\"></el-button>\r\n            </el-input>\r\n        </el-col>\r\n        <!-- 添加按钮-->\r\n        <el-col :span=\"4\" class=\"dis-left\">\r\n          <el-button type=\"primary\" @click=\"goAddpage\">添加商品</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 商品列表-->\r\n      <el-table :data=\"goodsData\" border style=\"width: 100%\" stripe>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column prop=\"goods_name\"  label=\"商品名称\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"goods_price\" width=\"95px\" label=\"商品价格(元)\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"goods_weight\" width=\"70px\" label=\"商品重量\">\r\n        </el-table-column>\r\n        <el-table-column width=\"160px\"  label=\"创建时间\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.add_time|dateFormat}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"130px\" >\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"editGood(scope.row.goods_id)\"></el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"delGood(scope.row.goods_id)\"></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 页码-->\r\n      <el-pagination\r\n              class = \"dis-page\"\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"query.pagenum\"\r\n              :page-sizes=\"[10, 20, 50, 100]\"\r\n              :page-size=\"query.pagesize\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"total\">\r\n            </el-pagination>\r\n      </template>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default{\r\n    data(){\r\n      return{\r\n        goodsData:[],//商品列表\r\n        query:{//请求参数\r\n          query:'',\r\n          pagenum:1,//页码\r\n          pagesize:10//每页多少条\r\n        },\r\n        total:0,//商品总数\r\n      }\r\n    },\r\n    methods:{\r\n      async initGoodsData(){\r\n        const {data:res} = await this.$http.get('goods',{params:this.query});\r\n        console.log(res)\r\n        if(res.meta.status == 200){\r\n          this.goodsData = res.data.goods\r\n          this.total = res.data.total\r\n        }\r\n        else{\r\n          return this.$message.error(res.meta.msg)\r\n        }\r\n      },\r\n      //跳转到商品添加页\r\n      goAddpage(){\r\n        this.$router.push('goods/add')\r\n      },\r\n      //每页条数\r\n      handleSizeChange(newSize){\r\n        //console.log(newSize)\r\n        this.query.pagesize = newSize\r\n        this.initGoodsData()\r\n      },\r\n      //当前页\r\n      handleCurrentChange(newPage){\r\n        //console.log(newPage)\r\n        this.query.pagenum = newPage\r\n        this.initGoodsData()\r\n      },\r\n      //删除商品\r\n      delGood(id){\r\n        this.$confirm(\"确定删除商品吗?\",\"提示\",{\r\n          confirmButtonText:'确定',\r\n          cancelButtonText:'取消',\r\n          type:'warning'\r\n        }).then(async ()=>{\r\n          const {data:res} = await this.$http.delete(`goods/${id}`)\r\n          if(res.meta.status == 200){\r\n            this.$message.success(res.meta.msg)\r\n            this.initGoodsData()\r\n          }\r\n          else{\r\n            this.$message.error(res.meta.msg)\r\n          }\r\n        }).catch(()=>{\r\n          this.$message.info('已取消删除！')\r\n        })\r\n      },\r\n      //修改商品\r\n      editGood(){}\r\n    },\r\n    created(){\r\n      this.initGoodsData()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .dis-left{\r\n    margin-left: 15px;\r\n  }\r\n  .dis-page{\r\n    margin-top: 15px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=06235b39&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=06235b39&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06235b39\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('slice') }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}